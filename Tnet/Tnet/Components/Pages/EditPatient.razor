@page "/editpatient"
@page "/editpatient/{id:int}"
@using Tnet.Services
@inject IJSRuntime JSRuntime
@inject IPatientService PatientService
@inject NavigationManager NavigationManager
@attribute [StreamRendering(false)]
@rendermode InteractiveServer

<style>
    div.custom-div {
        width: auto;
    }

    .custom-input {
        margin-left: 20px;
        width: 400px;
        Adjust the width as needed border: 1px solid #ced4da;
        padding: .375rem .75rem;
        border-radius: .15rem;
        margin-top: 5px;
        margin-bottom: 5px;
    }

    .custom-list {
        width: 10px;
        Adjust the width as needed border: 2px solid #ced4da;
        padding: .375rem .75rem;
        border-radius: .25rem;
        margin-top: 5px;
        margin-bottom: 5px;
    }

    .custom-label {
        font-weight: bold;
        margin-top: 10px;
        display: block;
        Ensures the label appears above the input
    }

    .custom-input-date {
        margin-left: 20px;
        width: 100px;
        border-color: #929292;
        margin-top: 5px;
        margin-bottom: 5px;
    }

    .flex-container {
        display: flex;
        grid-template-columns: 60px 60px; 
        gap: 20px; /* Space between columns */
        align-items: center;
        margin-bottom: 15px; /* Space between questions */
    }

    .flex-radio-group {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .radio-options {
        display: inline-flex;
        gap: 20px; /* Adjust the space between each radio option */
        align-items: center;
    }

    .question-label {
        margin-right: 20px; /* Adjust the space as needed */
        margin-left: 20px; /* Adjust the space as needed */
    }

    .answer-cell {
        width: 50px; /* Adjust the width as needed */
        text-align: center;
        padding: 2px; /* Adjust padding as needed */
        margin: 2px;
    }

    .question-cell {
        /* width: 100px; /* Adjust the width as needed */
        text-align: right;
        padding: 2px; /* Adjust padding as needed */
        margin: 2px;
    }

    .custom-table {
        width: 60%; /* Adjust based on your needs */
        margin: 0 auto; /* This centers the table on the page */
    }

    .exit-button {
        position: fixed; /* Fixed position on the screen */
        top: 20px; /* Adjust based on your layout */
        right: 20px; /* Adjust based on your layout */
        z-index: 1000; /* Ensure it's above other elements */
        width: 500px; /* Set the width of the button */
        height: 40px; /* Set the height of the button */
        font-size: 20px; /* Set the font size */
        background-color: #f44336; /* Set background color */
        color: white; /* Set text color */
        border: none; /* Remove border */
        border-radius: 5px; /* Optional: adds rounded corners */
        cursor: pointer; /* Changes cursor to pointer on hover */
    }


</style>

@if (Id == null)
{
    <PageTitle>Crear un nuevo paciente</PageTitle>
    <h3>Nuevo paciente</h3>
}
else
{
    <PageTitle>Editar paciente </PageTitle>
    <h3>Paciente: @patient.Name</h3>
}


@if (currentSection == 0)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(1, true)" FormName="editPatient">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="custom-div">
            <label for="cuestionario" class="custom-label">No. de cuestionario:</label>
            <InputNumber id="cuestionario" class="custom-inpu-datet" @bind-Value="patient.numcuestionario" />
        </div>

        <div class="custom-div">
            <label for="fechaa" class="custom-label">Fecha aplicación (día/mes/año)</label>
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.fechadeaplicacionDia" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.fechadeaplicacionMes" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.fechadeaplicacionAnio" />
        </div>

        <div class="custom-div">
            <label for="nameEnc" class="custom-label">Nombre encuestador :</label>
            <InputText id="nameEnc" class="custom-input" @bind-Value="patient.NameEnc" placeholder="Nombre" />
        </div>

        <div class="custom-div">
            <label for="name" class="custom-label">Nombre:</label>
            <InputText id="name" class="custom-input" @bind-Value="patient.Name" placeholder="Nombre" />
        </div>
        <div class="custom-div">
            <label for="apellodop" class="custom-label">Apellido Paterno</label>
            <InputText id="apellodop" class="custom-input" @bind-Value="patient.SurnameP" />
        </div>
        <div class="custom-div">
            <label for="apellodom" class="custom-label">Apellido Materno</label>
            <InputText id="apellodom" class="custom-input" @bind-Value="patient.SurnameM" />
        </div>

        <div class="custom-div">
            <label for="ecu" class="custom-label">ECU</label>
            <InputText id="ecu" class="custom-input" @bind-Value="patient.ECUNumber" />
        </div>
        <div class="custom-div">
            <label for="tel" class="custom-label">Teléfonos</label>
            <InputText id="tel" class="custom-input" @bind-Value="patient.Phone1" />
            <ValidationMessage For="@(() => patient.Phone1)" />
            <InputText id="tel" class="custom-input" @bind-Value="patient.Phone2" />
            <ValidationMessage For="@(() => patient.Phone2)" />
            <InputText id="tel" class="custom-input" @bind-Value="patient.Phone3" />
            <ValidationMessage For="@(() => patient.Phone3)" />
        </div>
        <div class="custom-div">
            <label for="correo" class="custom-label">Correos electrónico</label>
            <InputText id="correo" class="custom-input" @bind-Value="patient.Email1" />
            <InputText id="correo" class="custom-input" @bind-Value="patient.Email2" />
        </div>
        <div class="custom-div">
            <label for="fechan" class="custom-label">Fecha de nacimeinto (día/mes/año)</label>
            <InputNumber id="fechan" class="custom-input-date" @bind-Value="patient.fechadenacimientoDia" />
            <InputNumber id="fechan" class="custom-input-date" @bind-Value="patient.fechadenacimientoMes" />
            <InputNumber id="fechan" class="custom-input-date" @bind-Value="patient.fechadenacimientoAnio" />
        </div>

        <div class="custom-div">
            <label for="genero" class="custom-label">¿Con cuál género se identifica? </label>
            <InputRadioGroup @bind-Value="patient.generoSeleccionado">
                <ul>
                    @foreach (var element in patient.Generos)
                    {
                        <li><InputRadio Value="@element" id="genero" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        @if (patient.generoSeleccionado == "Otro")
        {
            <div class="custom-div">
                <label for="generootro" class="custom-label">Especifique</label>
                <InputText id="generootro" class="custom-input" @bind-Value="patient.generoOtro" />
            </div>
        }
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 1)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(2, true)" FormName="editPatient">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="custom-div">
            <label for="estadocivil" class="custom-label">¿Estado civil actual? </label>
            <InputRadioGroup @bind-Value="patient.estadocivilSeleccionado">
                <ul>
                    @foreach (var element in patient.EstadosCiviles)
                    {
                        <li><InputRadio Value="@element" id="estadocivil" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="estudio" class="custom-label">¿Cuántos años ha estudiado?</label>
            <InputNumber id="estudio" class="custom-input-date" @bind-Value="patient.aniosdeestudio" />
        </div>

        <div class="custom-div">
            <label for="religion" class="custom-label">¿Profesa alguna religión?  </label>
            <InputRadioGroup @bind-Value="patient.religionSeleccionada">
                <ul>
                    @foreach (var element in patient.Religiones)
                    {
                        <li><InputRadio Value="@element" id="religion" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        @if (patient.religionSeleccionada == "Otra")
        {
            <div class="custom-div">
                <label for="religionotra" class="custom-label">¿Cuál?</label>
                <InputText id="religionotra" class="custom-input" @bind-Value="patient.religionOtra" />
            </div>
        }

        <div class="custom-div">
            <label for="HablalenguaIndigena" class="custom-label">¿Habla alguna lengua indígena?:</label>
            <InputRadioGroup @bind-Value="patient.HablalenguaIndigena">
                <InputRadio Value="true" /> Si
                <InputRadio Value="false" /> No
            </InputRadioGroup>
        </div>
        @if (patient.HablalenguaIndigena == true)
        {
            <div class="custom-div">
                <label for="lenguaIndigenaCual" class="custom-label">¿Cuál?</label>
                <InputText id="lenguaIndigenaCual" class="custom-input" @bind-Value="patient.lenguaIndigenaCual" />
            </div>
        }

        <div class="custom-div">
            <label for="PertenecegrupoEtnico" class="custom-label">¿Pertenece a algún grupo étnico?:</label>
            <InputRadioGroup @bind-Value="patient.PertenecegrupoEtnico">
                <InputRadio Value="true" /> Si
                <InputRadio Value="false" /> No
            </InputRadioGroup>
        </div>
        @if (patient.PertenecegrupoEtnico == true)
        {
            <div class="custom-div">
                <label for="grupoEtnicoCual" class="custom-label">¿Cuál?</label>
                <InputText id="grupoEtnicoCual" class="custom-input" @bind-Value="patient.grupoEtnicoCual" />
            </div>
        }

        <div class="custom-div">
            <label for="ocupacionSeleccionada" class="custom-label">¿A qué se dedica? </label>
            <InputRadioGroup @bind-Value="patient.ocupacionSeleccionada">
                <ul>
                    @foreach (var element in patient.Ocupaciones)
                    {
                        <li><InputRadio Value="@element" id="ocupacionSeleccionada" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>

            <label for="ocupacionOtra" class="custom-label">Especifique</label>
            <InputText id="ocupacionOtra" class="custom-input" @bind-Value="patient.ocupacionOtra" />
        </div>

        <div class="custom-div">
            <p style="font-weight:bold">¿En dónde nació?</p>
            <label for="Alcaldía" class="custom-label">Alcaldía/loc</label>
            <InputText id="Alcaldía" class="custom-input" @bind-Value="patient.lugardeNacimientoAlcaldia" />
            <label for="Alcaldía" class="custom-label">Municipio</label>
            <InputText id="Alcaldía" class="custom-input" @bind-Value="patient.lugardeNacimientoMunicipio" />
            <label for="Estado" class="custom-label">Estado</label>
            <InputText id="Estado" class="custom-input" @bind-Value="patient.lugardeNacimientoEstado" />
            <label for="Pais" class="custom-label">País</label>
            <InputText id="Pais" class="custom-input" @bind-Value="patient.lugardeNacimientoPais" />
        </div>
        <div class="custom-div">
            <p style="font-weight:bold">¿En dónde vive actualmente?</p>
            <label for="Alcaldía" class="custom-label">Alcaldía/loc</label>
            <InputText id="Alcaldía" class="custom-input" @bind-Value="patient.lugardeResidenciaAlcaldia" />
            <label for="Alcaldía" class="custom-label">Municipio</label>
            <InputText id="Alcaldía" class="custom-input" @bind-Value="patient.lugardeResidenciaMunicipio" />
            <label for="Estado" class="custom-label">Estado</label>
            <InputText id="Estado" class="custom-input" @bind-Value="patient.lugardeResidenciaEstado" />
        </div>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 2)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(3, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <label for="vivecantidad" class="custom-label">Hoy ¿con cuántas personas vive?</label>
            <InputNumber id="vivecantidad" class="custom-inpu-datet" @bind-Value="patient.personasEnCasa" />
        </div>
        <div class="custom-div">
            <label for="personasAportanGastos" class="custom-label">De las personas que viven en casa ¿cuántas aportan para los gastos del hogar?</label>
            <InputNumber id="personasAportanGastos" class="custom-inpu-datet" @bind-Value="patient.personasAportanGastos" />
        </div>

        <div class="custom-div">
            <label for="proveedor" class="custom-label">¿Quién es el principal proveedor económico?</label>
            <InputRadioGroup @bind-Value="patient.principalProveedorEconomico">
                <ul>
                    @foreach (var element in patient.ProvedoresEconomicos)
                    {
                        <li><InputRadio Value="@element" id="proveedor" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="jefehogar" class="custom-label">¿Quién cree usted que es jefe/jefa del hogar?</label>
            <InputRadioGroup @bind-Value="patient.jefeJefaHogar">
                <ul>
                    @foreach (var element in patient.JefesHogar)
                    {
                        <li><InputRadio Value="@element" id="jefehogar" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="ingresos" class="custom-label">Estime el ingreso mensual del hogar:</label>
            <InputRadioGroup @bind-Value="patient.ingresoMensualHogar">
                <ul>
                    @foreach (var element in patient.IngresosMensuales)
                    {
                        <li><InputRadio Value="@element" id="ingresos" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="casavive" class="custom-label">La casa donde vive es:</label>
            <InputRadioGroup @bind-Value="patient.tipoDeCasa">
                <ul>
                    @foreach (var element in patient.TiposDeCasa)
                    {
                        <li><InputRadio Value="@element" id="casavive" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="transplaterec" class="custom-label">¿Qué tipo de trasplante recibió?</label>
            <InputRadioGroup @bind-Value="patient.tipoDeTrasplante">
                <ul>
                    @foreach (var element in patient.TiposDeTrasplante)
                    {
                        <li><InputRadio Value="@element" id="transplaterec" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="fechatras" class="custom-label">¿En qué año se trasplantó? (día/mes/año)</label>
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.diaTrasplante" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.mesTrasplante" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.anioTrasplante" />
        </div>

        <div class="custom-div">
            <label for="fechaa" class="custom-label">¿En qué año fue diagnosticado con su enfermedad?  (día/mes/año)</label>
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.diaDiagnostico" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.mesDiagnostico" />
            <InputNumber id="fechaa" class="custom-input-date" @bind-Value="patient.anioDiagnostico" />
        </div>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 3)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(4, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p style="font-weight:bold">ESCALA DE MEDICIÓN DE LA RESILIENCIA CON MEXICANOS RESI-M </p>
            <p>
                Instrucciones: A continuación, encontrará una serie de afirmaciones. Por favor indique con una X en el recuadro de la derecha,
                la respuesta que elija para cada una de las afirmaciones que se le presentan. No deje de contestar ninguna de ellas.
                Sus respuestas son confidenciales. Muchas gracias por su colaboración.
            </p>
        </div>
        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Preguntas</th>
                        @foreach (var answer in patient.ResilenciaAnswers)
                        {
                            <th>@answer</th>
                        }
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < patient.ResilenciaQuestionsText.Count; i++)
                    {
                        int index = i; // Local copy for lambda capture
                        if (index >= 0 && index < patient.ResilenciaQuestions.Count)
                        {
                            <tr>
                                <td class="question-cell">@patient.ResilenciaQuestionsText[index]</td>
                                <InputRadioGroup @bind-Value="patient.ResilenciaQuestions[index].SelectedAnswer">
                                    @foreach (var answer in patient.ResilenciaAnswers)
                                    {
                                        <td class="answer-cell">
                                            <InputRadio Value="@answer" class="form-check-input" />
                                        </td>
                                    }
                                </InputRadioGroup>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>

        <div class="custom-div">
            <p>SECCIONES DE AFRONTAMIENTO Y APOYO SOCIAL DEL CUESTIONARIO DE AFRONTAMIENTO Y APOYO SOCIAL PARA ENFERMEDADES CRÓNICAS</p>
            <p>
                El siguiente instrumento tiene la finalidad de saber cómo se sienten los pacientes que han tenido un trasplante y cómo afrontan las situaciones a las que se enfrentan y los tipos de apoyo que perciben.  Pedimos su ayuda para que responda las preguntas que cordialmente le presentamos, la información que nos proporcione será completa y estrictamente anónima, siendo rigurosamente utilizada para fines académicos y de investigación.
            </p>
            <p>SECCIÓN ESTRATEGIAS DE AFRONTAMIENTO</p>
            <p>Instrucciones: Se le leerán varias oraciones relacionadas con la forma como las personas afrontan los problemas de la vida.  Estas formas de afrontamiento no son buenas, ni malas, ni mejores, ni peores; dependen de las situaciones que se viven. En cada oración usted escogerá una de las 6 (seis) opciones que se le darán. Elija la que más se acomoda a su forma de ser y afrontar sus problemas. Las seis opciones son:... </p>
        </div>
        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Preguntas</th>
                        @foreach (var answer in patient.AfrontamientoAnswers)
                        {
                            <th>@answer</th>
                        }
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < patient.AfrontamientoQuestionsText.Count; i++)
                    {
                        int index = i; // Local copy for lambda capture
                        if (index >= 0 && index < patient.AfrontamientoQuestions.Count)
                        {
                            <tr>
                                <td class="question-cell">@patient.AfrontamientoQuestionsText[index]</td>
                                <InputRadioGroup @bind-Value="patient.AfrontamientoQuestions[index].SelectedAnswer">
                                    @foreach (var answer in patient.AfrontamientoAnswers)
                                    {
                                        <td class="answer-cell">
                                            <InputRadio Value="@answer" class="form-check-input" />
                                        </td>
                                    }
                                </InputRadioGroup>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>

        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
	    <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 4)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(5, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>SECCIÓN APOYO SOCIAL</p>
            <p>
                Instrucciones: esta sección trata sobre el apoyo que le han dado otras personas en el momento del trasplante y hoy. Contiene preguntas abiertas y otras con varias opciones de respuesta que se le indicaran.  No hay respuestas correctas, ni incorrectas.
            </p>
            <p>
                A.S.M. Pasado
            </p>
        </div>

        <div class="custom-div">
            <label for="s1" class="custom-label">1. Para su trasplante, ¿quién o quiénes le apoyaron económicamente?</label>
            <InputText id="s1" class="custom-input" @bind-Value="patient.QuienApoyoEcoPas" />
        </div>
        <div class="custom-div">
            <label for="asmpasado1" class="custom-label">1a. ¿Qué tan satisfecha/o se sintió con este apoyo?</label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoEcoPas">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado1" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s2" class="custom-label">2. Para su trasplante, ¿quién o quiénes le ayudaron con sus actividades domésticas?</label>
            <InputText id="s2" class="custom-input" @bind-Value="patient.QuienApoyoDomesticaPas" />
        </div>
        <div class="custom-div">
            <label for="asmpasado2" class="custom-label">2a. ¿Qué tan satisfecha/o se sintió con esta ayuda?</label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoDomesticaPas">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado2" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s3" class="custom-label">3. Recién recibido su trasplante, ¿quién o quiénes le acompañaban a sus citas?</label>
            <InputText id="s3" class="custom-input" @bind-Value="patient.QuienApoyoCitaPas" />
        </div>
        <div class="custom-div">
            <label for="asmpasado3" class="custom-label">3a. ¿Qué tan satisfecha/o se sintió que le acompañen?</label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoCitaPas">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado3" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s4" class="custom-label">4. Para su trasplante, ¿quién o quiénes le ayudaron a llevar a cabo sus necesidades personales (como bañarse, pararse de una silla, apoyo para caminar, entre otras)?</label>
            <InputText id="s4" class="custom-input" @bind-Value="patient.QuienApoyoPersonalPas" />
        </div>
        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">4a. ¿Qué tan satisfecha/o se sintió con esta ayuda?</label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoPersonalPas">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado5" class="custom-label">5. ¿Con qué frecuencia tuvo la necesidad de pedir prestado para solventar los gastos de su trasplante, como: compra de medicamentos, pago de consulta, transporte, etc.?</label>
            <InputRadioGroup @bind-Value="patient.PedirPrestadoPas">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado5" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        <div class="custom-div">
            <label for="s5a" class="custom-label">5a. ¿Quién o quiénes le proporcionaron este préstamo?</label>
            <InputText id="s5a" class="custom-input" @bind-Value="patient.PedirPrestadoQuienPas" />
        </div>
        <div class="custom-div">
            <label for="s6" class="custom-label">6. ¿Por cuánto tiempo recibió estos apoyos?</label>
            <InputText id="s6" class="custom-input" @bind-Value="patient.PedirPrestadoTiempoPas" />
        </div>

        <div class="custom-div">
            <p>Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al momento que recibió esos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha.</p>
        </div>

        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Negativo</th>
                        @foreach (var answer in patient.SentimientosVals)
                        {
                            <th>@answer</th>
                        }
                        <th>Positivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="question-cell"> Triste </td>
                            <InputRadioGroup @bind-Value="patient.Triste_ContentoPas">
                                    @foreach (var element in patient.SentimientosVals)
                                    {
                                        <td class="answer-cell">
                                            <InputRadio class="form-check-input" Value="@element" />
                                        </td>
                                    }
                            </InputRadioGroup>
                        <td class="question-cell"> Contento(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Inseguro(a) </td>
                        <InputRadioGroup @bind-Value="patient.Inseguro_SeguroPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Seguro(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Pesimista </td>
                        <InputRadioGroup @bind-Value="patient.Pesimista_OptimistaPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Optimista  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desagradable </td>
                        <InputRadioGroup @bind-Value="patient.Desagradable_AgradablePas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Agradable  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Inútil </td>
                        <InputRadioGroup @bind-Value="patient.Inutil_ÚtilPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Útil  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Preocupado </td>
                        <InputRadioGroup @bind-Value="patient.Preocupado_SinpreocupacionPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Sin preocupación  </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Incómodo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomodo_ComodoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Cómodo(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Incapaz </td>
                        <InputRadioGroup @bind-Value="patient.Incapaz_CapazPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Capaz </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Intranquilo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Intranquilo_TranquiloPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Tranquilo(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Asustado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Asustado_RelajadoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Relajado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Incomprendido(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomprendido_ComprendidoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Comprendido(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Infeliz </td>
                        <InputRadioGroup @bind-Value="patient.Infeliz_FelizPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Feliz </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Solo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Solo_AcompanadoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Acompañado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">   Sin amor </td>
                        <InputRadioGroup @bind-Value="patient.Sinamor_AmadoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Amado(a) </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
	    <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 5)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(6, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>
                A.S.M. Presente
            </p>
        </div>

        <div class="custom-div">
            <label for="s1" class="custom-label">1. En la última semana, ¿quién o quiénes le han apoyado económicamente?</label>
            <InputText id="s1" class="custom-input" @bind-Value="patient.QuienApoyoEco" />
        </div>
        <div class="custom-div">
            <label for="asmpasado1" class="custom-label">1a. ¿Qué tan satisfecha/o se siente con este apoyo? </label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoEco">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado1" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s2" class="custom-label">2. En la última semana, ¿quién o quiénes le han ayudado con sus actividades domésticas?</label>
            <InputText id="s2" class="custom-input" @bind-Value="patient.QuienApoyoDomestica" />
        </div>
        <div class="custom-div">
            <label for="asmpasado2" class="custom-label">2a. ¿Qué tan satisfecha/o se siente con esta ayuda? </label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoDomestica">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado2" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s3" class="custom-label">3. En la última cita de control, ¿quién o quiénes le han acompañado?</label>
            <InputText id="s3" class="custom-input" @bind-Value="patient.QuienApoyoCita" />
        </div>
        <div class="custom-div">
            <label for="asmpasado3" class="custom-label">3a. ¿Qué tan satisfecha/o se siente que le acompañen? </label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoCita">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado3" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s4" class="custom-label">4. En la última semana, ¿quién o quiénes le han ayudado a llevar a cabo sus necesidades personales (como bañarse, pararse de una silla, apoyo para caminar, entre otras)?</label>
            <InputText id="s4" class="custom-input" @bind-Value="patient.QuienApoyoPersonal" />
        </div>
        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">4a. ¿Qué tan satisfecha/o se siente con esta ayuda?</label>
            <InputRadioGroup @bind-Value="patient.SatisfacApoyoPersonal">
                <ul>
                    @foreach (var element in patient.Satisfac)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado5" class="custom-label">5. En la última semana, ¿Con qué frecuencia ha tenido la necesidad de pedir prestado para solventar los gastos relacionados con su trasplante, como: compra de medicamentos, pago de consulta, transporte, etc.?</label>
            <InputRadioGroup @bind-Value="patient.PedirPrestado">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado5" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        <div class="custom-div">
            <label for="s5a" class="custom-label">5a. ¿Quién o quiénes le proporcionaron este préstamo?</label>
            <InputText id="s5a" class="custom-input" @bind-Value="patient.PedirPrestadoQuien" />
        </div>

        <div class="custom-div">
            <p>Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al momento que recibió estos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha.</p>
        </div>
        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Negativo</th>
                        @foreach (var answer in patient.SentimientosVals)
                        {
                            <th>@answer</th>
                        }
                        <th>Positivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="question-cell"> Triste </td>
                        <InputRadioGroup @bind-Value="patient.Triste_Contento">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Contento(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Inseguro(a) </td>
                        <InputRadioGroup @bind-Value="patient.Inseguro_Seguro">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Seguro(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Pesimista </td>
                        <InputRadioGroup @bind-Value="patient.Pesimista_Optimista">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Optimista  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desagradable </td>
                        <InputRadioGroup @bind-Value="patient.Desagradable_Agradable">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Agradable  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Inútil </td>
                        <InputRadioGroup @bind-Value="patient.Inutil_Útil">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Útil  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Preocupado </td>
                        <InputRadioGroup @bind-Value="patient.Preocupado_Sinpreocupacion">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Sin preocupación  </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Incómodo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomodo_Comodo">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Cómodo(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Incapaz </td>
                        <InputRadioGroup @bind-Value="patient.Incapaz_Capaz">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Capaz </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Intranquilo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Intranquilo_Tranquilo">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Tranquilo(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Asustado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Asustado_Relajado">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Relajado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Incomprendido(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomprendido_Comprendido">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Comprendido(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Infeliz </td>
                        <InputRadioGroup @bind-Value="patient.Infeliz_Feliz">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Feliz </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Solo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Solo_Acompanado">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Acompañado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">   Sin amor </td>
                        <InputRadioGroup @bind-Value="patient.Sinamor_Amado">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Amado(a) </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 6)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(7, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>
                A.S.I. Pasado
            </p>
        </div>

        <div class="custom-div">
            <label for="s1" class="custom-label">1. ¿De quién o quiénes recibió información acerca de su trasplante?</label>
            <InputText id="s1" class="custom-input" @bind-Value="patient.QuienInfoPas" />
        </div>

        <div class="custom-div">
            <label for="s2" class="custom-label">2. ¿Quién o quiénes le proporcionaron folletos, artículos o revistas relacionados con su trasplante?</label>
            <InputText id="s2" class="custom-input" @bind-Value="patient.QuienFoletosArticulosRevistasPas" />
        </div>
        <div class="custom-div">
            <label for="s3" class="custom-label">3. ¿Quién o quiénes le dieron consejos de qué hacer con respecto a su trasplante (cuidar la alimentación o tomar los medicamentos, etc.)?</label>
            <InputText id="s3" class="custom-input" @bind-Value="patient.QuienConsejosPas" />
        </div>
        <div class="custom-div">
            <label for="asmpasado3" class="custom-label">3a. ¿Con qué frecuencia llevó a cabo estos consejos?  </label>
            <InputRadioGroup @bind-Value="patient.ConsejoFrecPas">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado3" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">4 ¿Asistió a sus consultas de control? </label>
            <InputRadioGroup @bind-Value="patient.ConsultaControlPas">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">5 ¿Asistió a terapias psicológicas? </label>
            <InputRadioGroup @bind-Value="patient.TerapiasPsicologicaPas">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <p>Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al recibir estos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha</p>
        </div>
        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Negativo</th>
                        @foreach (var answer in patient.SentimientosVals)
                        {
                            <th>@answer</th>
                        }
                        <th>Positivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="question-cell"> Mal informado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Malinformado_BieninformadoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Bien informado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Intranquilo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Intranquilo_TranquiloInfoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Tranquilo(a)</td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desinterés de los demás </td>
                        <InputRadioGroup @bind-Value="patient.Desinteresdelosdemas_InteresdelosdemasPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Interés de los demás  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Asustado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Asustado_RelajadoInfoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Relajado(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Enojado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Enojado_SerenoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Sereno(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desmotivado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Desmotivado_MotivadoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Motivado(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Insatisfecho(a) </td>
                        <InputRadioGroup @bind-Value="patient.Insatisfecho_SatisfechoPas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Satisfecho(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Inconforme </td>
                        <InputRadioGroup @bind-Value="patient.Inconforme_ConformePas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Conforme </td>
                    </tr>

                </tbody>
            </table>
        </div>

    	<button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
	    <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 7)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(8, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>
                A.S.I. Presente
            </p>
        </div>

        <div class="custom-div">
            <label for="s1" class="custom-label">1. ¿De quién o quiénes recibe información acerca de su trasplante?</label>
            <InputText id="s1" class="custom-input" @bind-Value="patient.QuienInfo" />
        </div>

        <div class="custom-div">
            <label for="s2" class="custom-label">2. ¿Quién o quiénes le proporcionan folletos, artículos o revistas relacionados con su trasplante?</label>
            <InputText id="s2" class="custom-input" @bind-Value="patient.QuienFoletosArticulosRevistas" />
        </div>
        <div class="custom-div">
            <label for="s3" class="custom-label">3. ¿Quién o quiénes le dan consejos de qué hacer con respecto a su trasplante (cuidar la alimentación o tomar los medicamentos, etc.)?</label>
            <InputText id="s3" class="custom-input" @bind-Value="patient.QuienConsejos" />
        </div>
        <div class="custom-div">
            <label for="asmpasado3" class="custom-label">3a. ¿Con qué frecuencia lleva a cabo estos consejos?   </label>
            <InputRadioGroup @bind-Value="patient.ConsejoFrec">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado3" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">4. ¿Asiste a sus consultas de control </label>
            <InputRadioGroup @bind-Value="patient.ConsultaControl">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">5. ¿Asiste a terapias psicológicas?  </label>
            <InputRadioGroup @bind-Value="patient.TerapiasPsicologica">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <p>Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al recibir estos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha.  </p>
        </div>

        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Negativo</th>
                        @foreach (var answer in patient.SentimientosVals)
                        {
                            <th>@answer</th>
                        }
                        <th>Positivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="question-cell"> Mal informado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Malinformado_Bieninformado">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Bien informado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Intranquilo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Intranquilo_TranquiloInfo">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Tranquilo(a)</td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desinterés de los demás </td>
                        <InputRadioGroup @bind-Value="patient.Desinteresdelosdemas_Interesdelosdemas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Interés de los demás  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Asustado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Asustado_RelajadoInfo">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Relajado(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Enojado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Enojado_Sereno">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Sereno(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desmotivado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Desmotivado_Motivado">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Motivado(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Insatisfecho(a) </td>
                        <InputRadioGroup @bind-Value="patient.Insatisfecho_Satisfecho">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Satisfecho(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Inconforme </td>
                        <InputRadioGroup @bind-Value="patient.Inconforme_Conforme">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Conforme </td>
                    </tr>

                </tbody>
            </table>
        </div>

	    <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
	    <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 8)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(9, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>
                A.S.E
            </p>
        </div>

        <div class="custom-div">
            <label for="s1" class="custom-label">1. ¿Con quién o quiénes platica de su trasplante?</label>
            <InputText id="s1" class="custom-input" @bind-Value="patient.QuienPlatica" />
        </div>
        <div class="custom-div">
            <label for="asmpasado2" class="custom-label">2. ¿Con qué frecuencia platica de su trasplante?  </label>
            <InputRadioGroup @bind-Value="patient.QuienPlaticaFrec">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado2" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s3" class="custom-label">3.	¿De quién o quiénes siente cariño?</label>
            <InputText id="s3" class="custom-input" @bind-Value="patient.QuienCarino" />
        </div>
        <div class="custom-div">
            <label for="asmpasado3" class="custom-label">3a. ¿Con qué frecuencia siente ese cariño?  </label>
            <InputRadioGroup @bind-Value="patient.QuienCarinoFrec">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado3" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="s4" class="custom-label">4. ¿De quién o quiénes siente interés por lo que está usted pasando?</label>
            <InputText id="s4" class="custom-input" @bind-Value="patient.QuienInteres" />
        </div>
        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">4a. ¿Con qué frecuencia siente usted este interés?   </label>
            <InputRadioGroup @bind-Value="patient.QuienInteresFrec">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="asmpasado4" class="custom-label">5. ¿Ha sentido alguna vez la sensación de burla o ha sido mal visto por las personas debido a su trasplante? </label>
            <InputRadioGroup @bind-Value="patient.QuienBurlaFrec">
                <ul>
                    @foreach (var element in patient.Freq1)
                    {
                        <li><InputRadio Value="@element" id="asmpasado4" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        <div class="custom-div">
            <label for="s6" class="custom-label">6. ¿De quienes ha percibido estas sensaciones?</label>
            <InputText id="s6" class="custom-input" @bind-Value="patient.QuienBurla" />
        </div>

        <div class="custom-div">
            <p>Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al recibir estos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha.  Instrucciones: Se le leerán una serie de palabras que representan sentimientos o sensaciones negativas y positivas. Indique cuál número de la escala numérica que se le presenta, se acerca a su sentir al recibir estos apoyos, teniendo en cuenta que el sentimiento negativo se encuentra del lado izquierdo de la escala y el sentimiento positivo a la derecha.   </p>
        </div>

        <div class="custom-div">
            <table class="table custom-table">
                <thead>
                    <tr>
                        <th>Negativo</th>
                        @foreach (var answer in patient.SentimientosVals)
                        {
                            <th>@answer</th>
                        }
                        <th>Positivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="question-cell"> Desagradable </td>
                        <InputRadioGroup @bind-Value="patient.Desagradable_AgradablePersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Agradable </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Incómodo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomodo_ComodoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell">Cómodo(a)</td>
                    </tr>

                    <tr>
                        <td class="question-cell">Solo(a) </td>
                        <InputRadioGroup @bind-Value="patient.Solo_AcompanadoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Acompañado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Desmotivado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Desmotivado_MotivadoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Motivado(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Ignorado(a) </td>
                        <InputRadioGroup @bind-Value="patient.Ignorado_EscuchadoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Escuchado(a)  </td>
                    </tr>

                    <tr>
                        <td class="question-cell"> Sin amor </td>
                        <InputRadioGroup @bind-Value="patient.Sinamor_AmadoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Amado  </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Incomprendido(a) </td>
                        <InputRadioGroup @bind-Value="patient.Incomprendido_ComprendidoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Comprendido(a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Infeliz </td>
                        <InputRadioGroup @bind-Value="patient.Infeliz_FelizPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Feliz </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Desalentado (a) </td>
                        <InputRadioGroup @bind-Value="patient.Desalentado_EsperanzadoPersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Esperanzado (a) </td>
                    </tr>

                    <tr>
                        <td class="question-cell">  Frágil </td>
                        <InputRadioGroup @bind-Value="patient.Fragil_FuertePersonas">
                            @foreach (var element in patient.SentimientosVals)
                            {
                                <td class="answer-cell">
                                    <InputRadio class="form-check-input" Value="@element" />
                                </td>
                            }
                        </InputRadioGroup>
                        <td class="question-cell"> Fuerte </td>
                    </tr>

                </tbody>
            </table>
        </div>


        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection + 1, true)">Siguiente</button>
    </EditForm>
}
else if (currentSection == 9)
{
    <EditForm EditContext="editContext" OnValidSubmit="() => GoToSection(9, true)" FormName="editPatient">
	    <DataAnnotationsValidator />
	    <ValidationSummary />
        <div class="custom-div">
            <p>
                DIMENSIÓN DE BIENESTAR DEL CUESTIONARIO DE SALUD SF-36
            </p>
            <p>
                Instrucciones: Por cada una de las preguntas, por favor marque con una X el cuadrito que mejor describa su respuesta.
            </p>
        </div>

        <div class="custom-div">
            <label for="anexo4.1" class="custom-label">En general, ¿diría usted que su salud es:  </label>
            <InputRadioGroup @bind-Value="patient.SaludEs">
                <ul>
                    @foreach (var element in patient.SaludEscala)
                    {
                        <li><InputRadio Value="@element" id="anexo4.1" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>

        <div class="custom-div">
            <label for="anexo4.1" class="custom-label">Comparado su salud con la de la hace un año, ¿Cómo la calificaría usted en general ahora?</label>
            <InputRadioGroup @bind-Value="patient.SaludCom">
                <ul>
                    @foreach (var element in patient.SaludComEscala)
                    {
                        <li><InputRadio Value="@element" id="anexo4.1" class="custom-list" /> @element</li>
                    }
                </ul>
            </InputRadioGroup>
        </div>
        <button type="button" class="btn btn-primary" @onclick="() => GoToSection(currentSection - 1, false)">Anterior</button>
        <button type="button" class="btn btn-primary" @onclick="() => GuardarAvance()">Guardar</button>
    </EditForm>
}

<button class="exit-button" @onclick="ExitPage">Regresar a la lista de pacientes</button>

@code {
    [Parameter]
    public int? Id { get; set; }
    private int PatientId;
    private EditContext? editContext;

    [SupplyParameterFromForm(FormName = "editPatient")]
    public Entities.Patient patient { get; set; } = new Entities.Patient();



    string btntext = string.Empty;

    private int currentSection = 0;

    protected override async Task OnInitializedAsync()
    {
        editContext = new EditContext(patient);
        if (Id != null)
        {
            patient = await PatientService.GetPatientbyId((int)Id);
            editContext = new EditContext(patient);
            btntext = "Actualizar";
            PatientId = patient.Id;
        }
        else
        {
            btntext = "Guardar";
            PatientId = 0;
        }
        if (patient.ResilenciaQuestions == null || patient.ResilenciaQuestions.Count == 0)
        {
            foreach (var questionText in patient.ResilenciaQuestionsText)
            {
                patient.ResilenciaQuestions.Add(new Entities.ResilenciaQuestion { Text = questionText, PatientId = PatientId });
            }
        }
        if (patient.AfrontamientoQuestions == null || patient.AfrontamientoQuestions.Count == 0)
        {
            foreach (var questionText in patient.AfrontamientoQuestionsText)
            {
                patient.AfrontamientoQuestions.Add(new Entities.AfrontamientoQuestion { Text = questionText, PatientId = PatientId });
            }
        }
    }
    protected override async Task OnParametersSetAsync()
    {
        if (Id != null)
        {
            patient = await PatientService.GetPatientbyId((int)Id);
        }
    }

    private void SetSelectedAnswerResilencia(int questionIndex, string selectedAnswer)
    {
        patient.ResilenciaQuestions[questionIndex].SelectedAnswer = selectedAnswer;
    }
    private void SetSelectedAnswerAfrontamiento(int questionIndex, string selectedAnswer)
    {
        patient.AfrontamientoQuestions[questionIndex].SelectedAnswer = selectedAnswer;
    }

    private async Task GoToSection(int section, bool isMovingForward)
    {
        if (isMovingForward && !ValidateCurrentSection())
        {
            // If validation fails, do not move to the next section.
            return;
        }
        ClearSectionValidationMessages();
        StateHasChanged();
        currentSection = section;
        await JSRuntime.InvokeVoidAsync("scrollToTop");
        // Save data if necessary. Here you might decide based on moving forward or backward.
        if (Id == null)
        {
            await PatientService.AddPatient(patient);
            Id = patient.Id;
        }
        else
        {
            await PatientService.UpdatePatient(patient);
        }
    }
    
    private async Task GuardarAvance()
    {
        if (!ValidateCurrentSection())
        {
            // If validation fails, do not move to the next section.
            return;
        }
        ClearSectionValidationMessages();
        StateHasChanged();
        // Save data if necessary. Here you might decide based on moving forward or backward.
        if (Id == null)
        {
            await PatientService.AddPatient(patient);
            Id = patient.Id;
        }
        else
        {
            await PatientService.UpdatePatient(patient);
        }
        NavigationManager.NavigateTo("/patients");
    }

    private void ExitPage()
    {
        NavigationManager.NavigateTo("/patients");
    }

    private bool ValidateCurrentSection()
    {
        bool isValid = true;
        var messages = new ValidationMessageStore(editContext);

        // Clear previous messages from the current section
        messages.Clear();

        // Assuming sections are divided logically, validate based on currentSection
        switch (currentSection)
        {
            case 0: // Validating first section
                if (patient.numcuestionario == null)
                {
                    messages.Add(editContext.Field("numcuestionario"), "Numero de cuestionario, es requerido.");
                    isValid = false;
                }
                if (patient.fechadeaplicacionDia == null)
                {
                    messages.Add(editContext.Field("fechadeaplicacionDia"), "fecha de aplicacion - Dia, es requerido.");
                    isValid = false;
                }
                if (patient.fechadeaplicacionMes == null)
                {
                    messages.Add(editContext.Field("fechadeaplicacionMes"), "fecha de aplicacion - Mes, es requerido.");
                    isValid = false;
                }
                if (patient.fechadeaplicacionAnio == null)
                {
                    messages.Add(editContext.Field("fechadeaplicacionAnio"), "fecha de aplicacion - Año, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Name))
                {
                    messages.Add(editContext.Field("Name"), "Nombre, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SurnameP))
                {
                    messages.Add(editContext.Field("SurnameP"), "Primer apellido, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.NameEnc))
                {
                    messages.Add(editContext.Field("NameEnc"), "Nombre encuestador, es requerido.");
                    isValid = false;
                }
                if (patient.ECUNumber == null)
                {
                    messages.Add(editContext.Field("ECUNumber"), "ECU, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Phone1))
                {
                    messages.Add(editContext.Field("Phone1"), "EL primer numero de telefono, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Email1))
                {
                    messages.Add(editContext.Field("Email1"), "El primer correo, es requerido.");
                    isValid = false;
                }
                if (patient.fechadenacimientoDia == null)
                {
                    messages.Add(editContext.Field("fechadenacimientoDia"), "fecha de nacimiento - Dia, es requerido.");
                    isValid = false;
                }
                if (patient.fechadenacimientoMes == null)
                {
                    messages.Add(editContext.Field("fechadenacimientoMes"), "fecha de nacimiento - Mes, es requerido.");
                    isValid = false;
                }
                if (patient.fechadenacimientoAnio == null)
                {
                    messages.Add(editContext.Field("fechadenacimientoAnio"), "fecha de nacimiento - Año, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.generoSeleccionado))
                {
                    messages.Add(editContext.Field("generoSeleccionado"), "El genero, es requerido.");
                    isValid = false;
                }
                break;
            case 1: // Validating second section
                if (string.IsNullOrEmpty(patient.estadocivilSeleccionado))
                {
                    messages.Add(editContext.Field("estadocivilSeleccionado"), "El esatado civil, es requerido.");
                    isValid = false;
                }
                if (patient.aniosdeestudio == null)
                {
                    messages.Add(editContext.Field("aniosdeestudio"), "Años de estudio - Dia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.religionSeleccionada))
                {
                    messages.Add(editContext.Field("religionSeleccionada"), "Religion, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ocupacionSeleccionada))
                {
                    messages.Add(editContext.Field("ocupacionSeleccionada"), "Ocupacion, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeNacimientoAlcaldia))
                {
                    messages.Add(editContext.Field("lugardeNacimientoAlcaldia"), "Alcaldia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeNacimientoMunicipio))
                {
                    messages.Add(editContext.Field("lugardeNacimientoMunicipio"), "Municipio, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeNacimientoEstado))
                {
                    messages.Add(editContext.Field("lugardeNacimientoEstado"), "Estado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeNacimientoPais))
                {
                    messages.Add(editContext.Field("lugardeNacimientoPais"), "Pais, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeResidenciaAlcaldia))
                {
                    messages.Add(editContext.Field("lugardeResidenciaAlcaldia"), "Alcaldia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeResidenciaMunicipio))
                {
                    messages.Add(editContext.Field("lugardeResidenciaMunicipio"), "Municipio, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.lugardeResidenciaEstado))
                {
                    messages.Add(editContext.Field("lugardeResidenciaEstado"), "Estado, es requerido.");
                    isValid = false;
                }
                // Add more field validations for section 2 as needed
                break;
            case 2:
                if (patient.personasEnCasa == null)
                {
                    messages.Add(editContext.Field("personasEnCasa"), "Personas en casa, es requerido.");
                }
                if (patient.personasAportanGastos == null)
                {
                    messages.Add(editContext.Field("personasAportanGastos"), "Aportan Gastos, es requerido.");
                }
                if (string.IsNullOrEmpty(patient.principalProveedorEconomico))
                {
                    messages.Add(editContext.Field("principalProveedorEconomico"), "Proveedor Economico, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.jefeJefaHogar))
                {
                    messages.Add(editContext.Field("jefeJefaHogar"), "jefe Jefa Hogar, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ingresoMensualHogar))
                {
                    messages.Add(editContext.Field("ingresoMensualHogar"), "ingreso Mensual Hogar, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.tipoDeCasa))
                {
                    messages.Add(editContext.Field("tipoDeCasa"), "Tipo De Casa, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.tipoDeTrasplante))
                {
                    messages.Add(editContext.Field("tipoDeTrasplante"), "Tipo De Trasplante, es requerido.");
                    isValid = false;
                }
                if (patient.diaTrasplante == null)
                {
                    messages.Add(editContext.Field("diaTrasplante"), "¿En qué año se trasplantó? - Dia, es requerido.");
                    isValid = false;
                }
                if (patient.mesTrasplante == null)
                {
                    messages.Add(editContext.Field("mesTrasplante"), "¿En qué año se trasplantó? - Mes, es requerido.");
                    isValid = false;
                }
                if (patient.anioTrasplante == null)
                {
                    messages.Add(editContext.Field("anioTrasplante"), "¿En qué año se trasplantó? - Año, es requerido.");
                    isValid = false;
                }
                if (patient.diaDiagnostico == null)
                {
                    messages.Add(editContext.Field("diaDiagnostico"), "¿En qué año fue diagnosticado con su enfermedad? - Dia, es requerido.");
                    isValid = false;
                }
                if (patient.mesDiagnostico == null)
                {
                    messages.Add(editContext.Field("mesDiagnostico"), "¿En qué año fue diagnosticado con su enfermedad? - Mes, es requerido.");
                    isValid = false;
                }
                if (patient.anioDiagnostico == null)
                {
                    messages.Add(editContext.Field("anioDiagnostico"), "¿En qué año fue diagnosticado con su enfermedad? - Año, es requerido.");
                    isValid = false;
                }
                break;
            case 3:
                for (int i = 0; i < patient.ResilenciaQuestionsText.Count; i++)
                {
                    if (string.IsNullOrWhiteSpace(patient.ResilenciaQuestions[i].SelectedAnswer))
                    {
                        isValid = false;
                        messages.Add(editContext.Field("ResilenciaQuestions"), "Todas las opciones de Resilencia son requeridas.");
                        break;
                    }
                }
                for (int i = 0; i < patient.AfrontamientoQuestionsText.Count; i++)
                {
                    if (string.IsNullOrWhiteSpace(patient.AfrontamientoQuestions[i].SelectedAnswer))
                    {
                        isValid = false;
                        messages.Add(editContext.Field("AfrontamientoQuestions"), "Todas las opciones de Afrontamiento son requeridas.");
                        break;
                    }
                }
                break;
            case 4:
                if (string.IsNullOrEmpty(patient.QuienApoyoEcoPas))
                {
                    messages.Add(editContext.Field("QuienApoyoEcoPas"), "Quien Apoyo Economico, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoEcoPas))
                {
                    messages.Add(editContext.Field("SatisfacApoyoEcoPas"), "Quien Apoyo Economico Satsfaccion, pasado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoDomesticaPas))
                {
                    messages.Add(editContext.Field("QuienApoyoDomesticaPas"), "Quien Apoyo Domestico, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoDomesticaPas))
                {
                    messages.Add(editContext.Field("SatisfacApoyoDomesticaPas"), "Quien Apoyo Domestico Satsfaccion, pasado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoCitaPas))
                {
                    messages.Add(editContext.Field("QuienApoyoCitaPas"), "Quien Apoyo Citas, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoCitaPas))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCitaPas"), "Quien Apoyo Citas Satsfaccion, pasado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoPersonalPas))
                {
                    messages.Add(editContext.Field("QuienApoyoCitaPas"), "Quien Apoyo Personal, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoPersonalPas))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCitaPas"), "Quien Apoyo Citas Personal, pasado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.PedirPrestadoPas))
                {
                    messages.Add(editContext.Field("PedirPrestadoPas"), "frecuencia Pedir prestado, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.PedirPrestadoQuienPas))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCitaPas"), "Quien  Pedir prestado, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.PedirPrestadoTiempoPas))
                {
                    messages.Add(editContext.Field("PedirPrestadoTiempoPas"), "Tiempo total  Pedir prestado, pasado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.Triste_ContentoPas))
                {
                    messages.Add(editContext.Field("Triste_ContentoPas"), "Sentimiento 1, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inseguro_SeguroPas))
                {
                    messages.Add(editContext.Field("Inseguro_SeguroPas"), "Sentimiento 2, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Pesimista_OptimistaPas))
                {
                    messages.Add(editContext.Field("Pesimista_OptimistaPas"), "Sentimiento 3, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desagradable_AgradablePas))
                {
                    messages.Add(editContext.Field("Desagradable_AgradablePas"), "Sentimiento 4, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inutil_ÚtilPas))
                {
                    messages.Add(editContext.Field("Inutil_ÚtilPas"), "Sentimiento 5, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Preocupado_SinpreocupacionPas))
                {
                    messages.Add(editContext.Field("Preocupado_SinpreocupacionPas"), "Sentimiento 6, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomodo_ComodoPas))
                {
                    messages.Add(editContext.Field("Incomodo_ComodoPas"), "Sentimiento 7, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incapaz_CapazPas))
                {
                    messages.Add(editContext.Field("Incapaz_CapazPas"), "Sentimiento 8, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Intranquilo_TranquiloPas))
                {
                    messages.Add(editContext.Field("Intranquilo_TranquiloPas"), "Sentimiento 9, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Asustado_RelajadoPas))
                {
                    messages.Add(editContext.Field("Asustado_RelajadoPas"), "Sentimiento 10, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomprendido_ComprendidoPas))
                {
                    messages.Add(editContext.Field("Incomprendido_ComprendidoPas"), "Sentimiento 11, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Infeliz_FelizPas))
                {
                    messages.Add(editContext.Field("Infeliz_FelizPas"), "Sentimiento 12, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Solo_AcompanadoPas))
                {
                    messages.Add(editContext.Field("Solo_AcompanadoPas"), "Sentimiento 13, pasado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Sinamor_AmadoPas))
                {
                    messages.Add(editContext.Field("Sinamor_AmadoPas"), "Sentimiento 14, pasado, es requerido.");
                    isValid = false;
                }
                break;
            case 5:
                if (string.IsNullOrEmpty(patient.QuienApoyoEco))
                {
                    messages.Add(editContext.Field("QuienApoyoEco"), "Quien Apoyo Economico, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoEco))
                {
                    messages.Add(editContext.Field("SatisfacApoyoEco"), "Quien Apoyo Economico Satsfaccion, ado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoDomestica))
                {
                    messages.Add(editContext.Field("QuienApoyoDomestica"), "Quien Apoyo Domestico, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoDomestica))
                {
                    messages.Add(editContext.Field("SatisfacApoyoDomestica"), "Quien Apoyo Domestico Satsfaccion, ado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoCita))
                {
                    messages.Add(editContext.Field("QuienApoyoCita"), "Quien Apoyo Citas, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoCita))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCita"), "Quien Apoyo Citas Satsfaccion, ado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienApoyoPersonal))
                {
                    messages.Add(editContext.Field("QuienApoyoCita"), "Quien Apoyo Personal, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SatisfacApoyoPersonal))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCita"), "Quien Apoyo Citas Personal, ado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.PedirPrestado))
                {
                    messages.Add(editContext.Field("PedirPrestado"), "frecuencia Pedir prestado, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.PedirPrestadoQuien))
                {
                    messages.Add(editContext.Field("SatisfacApoyoCita"), "Quien  Pedir prestado, ado, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.Triste_Contento))
                {
                    messages.Add(editContext.Field("Triste_Contento"), "Sentimiento 1, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inseguro_Seguro))
                {
                    messages.Add(editContext.Field("Inseguro_Seguro"), "Sentimiento 2, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Pesimista_Optimista))
                {
                    messages.Add(editContext.Field("Pesimista_Optimista"), "Sentimiento 3, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desagradable_Agradable))
                {
                    messages.Add(editContext.Field("Desagradable_Agradable"), "Sentimiento 4, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inutil_Útil))
                {
                    messages.Add(editContext.Field("Inutil_Útil"), "Sentimiento 5, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Preocupado_Sinpreocupacion))
                {
                    messages.Add(editContext.Field("Preocupado_Sinpreocupacion"), "Sentimiento 6, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomodo_Comodo))
                {
                    messages.Add(editContext.Field("Incomodo_Comodo"), "Sentimiento 7, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incapaz_Capaz))
                {
                    messages.Add(editContext.Field("Incapaz_Capaz"), "Sentimiento 8, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Intranquilo_Tranquilo))
                {
                    messages.Add(editContext.Field("Intranquilo_Tranquilo"), "Sentimiento 9, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Asustado_Relajado))
                {
                    messages.Add(editContext.Field("Asustado_Relajado"), "Sentimiento 10, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomprendido_Comprendido))
                {
                    messages.Add(editContext.Field("Incomprendido_Comprendido"), "Sentimiento 11, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Infeliz_Feliz))
                {
                    messages.Add(editContext.Field("Infeliz_Feliz"), "Sentimiento 12, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Solo_Acompanado))
                {
                    messages.Add(editContext.Field("Solo_Acompanado"), "Sentimiento 13, ado, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Sinamor_Amado))
                {
                    messages.Add(editContext.Field("Sinamor_Amado"), "Sentimiento 14, ado, es requerido.");
                    isValid = false;
                }
                break;
            case 6:
                if (string.IsNullOrEmpty(patient.QuienInfoPas))
                {
                    messages.Add(editContext.Field("QuienInfoPas"), "Quien infiorma, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienFoletosArticulosRevistasPas))
                {
                    messages.Add(editContext.Field("QuienFoletosArticulosRevistasPas"), "Donde infiorma, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienConsejosPas))
                {
                    messages.Add(editContext.Field("QuienConsejosPas"), "Quien consejo, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ConsejoFrecPas))
                {
                    messages.Add(editContext.Field("ConsejoFrecPas"), "Quien consejo frecuencia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ConsultaControlPas))
                {
                    messages.Add(editContext.Field("ConsultaControlPas"), "Frecuencia control, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.TerapiasPsicologicaPas))
                {
                    messages.Add(editContext.Field("TerapiasPsicologicaPas"), "Frecuencia terapia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Malinformado_BieninformadoPas))
                {
                    messages.Add(editContext.Field("Malinformado_BieninformadoPas"), "Sentimiento 1, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Intranquilo_TranquiloInfoPas))
                {
                    messages.Add(editContext.Field("Intranquilo_TranquiloInfoPas"), "Sentimiento 2, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desinteresdelosdemas_InteresdelosdemasPas))
                {
                    messages.Add(editContext.Field("Desinteresdelosdemas_InteresdelosdemasPas"), "Sentimiento 3, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Asustado_RelajadoInfoPas))
                {
                    messages.Add(editContext.Field("Asustado_RelajadoInfoPas"), "Sentimiento 4, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Enojado_SerenoPas))
                {
                    messages.Add(editContext.Field("Enojado_SerenoPas"), "Sentimiento 5, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desmotivado_MotivadoPas))
                {
                    messages.Add(editContext.Field("Desmotivado_MotivadoPas"), "Sentimiento 6, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Insatisfecho_SatisfechoPas))
                {
                    messages.Add(editContext.Field("Insatisfecho_SatisfechoPas"), "Sentimiento 7, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inconforme_ConformePas))
                {
                    messages.Add(editContext.Field("Inconforme_ConformePas"), "Sentimiento 8, es requerido.");
                    isValid = false;
                }
                break;
            case 7:
                if (string.IsNullOrEmpty(patient.QuienInfo))
                {
                    messages.Add(editContext.Field("QuienInfo"), "Quien infiorma, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienFoletosArticulosRevistas))
                {
                    messages.Add(editContext.Field("QuienFoletosArticulosRevistas"), "Donde infiorma, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienConsejos))
                {
                    messages.Add(editContext.Field("QuienConsejos"), "Quien consejo, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ConsejoFrec))
                {
                    messages.Add(editContext.Field("ConsejoFrec"), "Quien consejo frecuencia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.ConsultaControl))
                {
                    messages.Add(editContext.Field("ConsultaControl"), "Frecuencia control, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.TerapiasPsicologica))
                {
                    messages.Add(editContext.Field("TerapiasPsicologica"), "Frecuencia terapia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Malinformado_Bieninformado))
                {
                    messages.Add(editContext.Field("Malinformado_Bieninformado"), "Sentimiento 1, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Intranquilo_TranquiloInfo))
                {
                    messages.Add(editContext.Field("Intranquilo_TranquiloInfo"), "Sentimiento 2, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desinteresdelosdemas_Interesdelosdemas))
                {
                    messages.Add(editContext.Field("Desinteresdelosdemas_Interesdelosdemas"), "Sentimiento 3, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Asustado_RelajadoInfo))
                {
                    messages.Add(editContext.Field("Asustado_RelajadoInfo"), "Sentimiento 4, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Enojado_Sereno))
                {
                    messages.Add(editContext.Field("Enojado_Sereno"), "Sentimiento 5, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desmotivado_Motivado))
                {
                    messages.Add(editContext.Field("Desmotivado_Motivado"), "Sentimiento 6, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Insatisfecho_Satisfecho))
                {
                    messages.Add(editContext.Field("Insatisfecho_Satisfecho"), "Sentimiento 7, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Inconforme_Conforme))
                {
                    messages.Add(editContext.Field("Inconforme_Conforme"), "Sentimiento 8, es requerido.");
                    isValid = false;
                }
                break;
            case 8:
                if (string.IsNullOrEmpty(patient.QuienPlatica))
                {
                    messages.Add(editContext.Field("QuienPlatica"), "Platica trasplante, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienPlaticaFrec))
                {
                    messages.Add(editContext.Field("QuienPlaticaFrec"), "Platica trasplante frecuencia, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienCarino))
                {
                    messages.Add(editContext.Field("QuienCarino"), "¿De quién o quiénes siente cariño?, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienCarinoFrec))
                {
                    messages.Add(editContext.Field("QuienCarinoFrec"), "¿De quién o quiénes siente cariño? frecuencia, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienInteres))
                {
                    messages.Add(editContext.Field("QuienInteres"), "¿De quién o quiénes siente interés por lo que está usted pasando?, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienInteresFrec))
                {
                    messages.Add(editContext.Field("QuienInteresFrec"), "¿De quién o quiénes siente interés por lo que está usted pasando? frecuencia, es requerido.");
                    isValid = false;
                }

                if (string.IsNullOrEmpty(patient.QuienBurlaFrec))
                {
                    messages.Add(editContext.Field("QuienBurlaFrec"), "¿Ha sentido alguna vez la sensación de burla o ha sido mal visto por las personas debido a su trasplante?, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.QuienBurla))
                {
                    messages.Add(editContext.Field("QuienBurla"), "¿De quienes ha percibido estas sensaciones?, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desagradable_AgradablePersonas))
                {
                    messages.Add(editContext.Field("Desagradable_AgradablePersonas"), "Sentimiento 1, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomodo_ComodoPersonas))
                {
                    messages.Add(editContext.Field("Incomodo_ComodoPersonas"), "Sentimiento 2, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Solo_AcompanadoPersonas))
                {
                    messages.Add(editContext.Field("Solo_AcompanadoPersonas"), "Sentimiento 3, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desmotivado_MotivadoPersonas))
                {
                    messages.Add(editContext.Field("Desmotivado_MotivadoPersonas"), "Sentimiento 4, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Ignorado_EscuchadoPersonas))
                {
                    messages.Add(editContext.Field("Ignorado_EscuchadoPersonas"), "Sentimiento 5, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Sinamor_AmadoPersonas))
                {
                    messages.Add(editContext.Field("Sinamor_AmadoPersonas"), "Sentimiento 6, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Incomprendido_ComprendidoPersonas))
                {
                    messages.Add(editContext.Field("Incomprendido_ComprendidoPersonas"), "Sentimiento 7, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Infeliz_FelizPersonas))
                {
                    messages.Add(editContext.Field("Infeliz_FelizPersonas"), "Sentimiento 8, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Desalentado_EsperanzadoPersonas))
                {
                    messages.Add(editContext.Field("Desalentado_EsperanzadoPersonas"), "Sentimiento 9, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.Fragil_FuertePersonas))
                {
                    messages.Add(editContext.Field("Fragil_FuertePersonas"), "Sentimiento 10, es requerido.");
                    isValid = false;
                }
                break;
            case 9:
                if (string.IsNullOrEmpty(patient.SaludEs))
                {
                    messages.Add(editContext.Field("SaludEs"), "Salud es, es requerido.");
                    isValid = false;
                }
                if (string.IsNullOrEmpty(patient.SaludCom))
                {
                    messages.Add(editContext.Field("SaludCom"), "Salud comparada, es requerido.");
                    isValid = false;
                }
                break;
        }

        // Update the EditContext to reflect the changes
        editContext.NotifyValidationStateChanged();

        return isValid;
    }

    private void ClearSectionValidationMessages()
    {
        editContext = new EditContext(patient);
        var messageStore = new ValidationMessageStore(editContext);
        messageStore.Clear(); // Clears all messages
        editContext.NotifyValidationStateChanged();
    }
}
